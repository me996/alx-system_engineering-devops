#!/usr/bin/env bash
# Install nginx on your web-01 server
# Nginx should be listening on port 80
# When querying Nginx at its root / with a GET request
# (requesting a page) using curl, it must return a page
# that contains the string Hello World!

# Update package index
sudo apt-get update

# Install nginx
sudo apt-get install -y nginx

# Configure nginx to listen on port 80
sudo sed -i 's/# server_names_hash_bucket_size 64;/server_names_hash_bucket_size 64;/' /etc/nginx/nginx.conf

# Create a custom HTML file with "Hello World!"
echo '<!DOCTYPE html>
<html>
<head>
    <title>Hello World!</title>
</head>
<body>
    <h1>Hello World!</h1>
</body>
</html>' | sudo tee /var/www/html/index.html > /dev/null

# Restart nginx (without using systemctl)
sudo kill -HUP $(cat /var/run/nginx.pid)
